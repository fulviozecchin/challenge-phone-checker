<!DOCTYPE html>
<html lang="it" xmlns:th="https://www.thymeleaf.org">
	<head>
		<title>Phone Checker App</title>
		<script src="http://ajax.googleapis.com/ajax/libs/jquery/1.7.1/jquery.min.js" type="text/javascript"></script>
		<script th:src="@{/js/index.js}"></script>
		<link th:href="@{/css/style.css}" rel="stylesheet" />
		<link rel="preconnect" href="https://fonts.googleapis.com">
		<link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
		<link href="https://fonts.googleapis.com/css2?family=Open+Sans&display=swap" rel="stylesheet">
		<link rel="icon" type="image/png" href="favicon-phone.png"/>
	</head>
	
	<body>
	<iframe id="iframe" name="hiddenFrame" class="hide"></iframe>
	<p>
		<h2>Benvenuto! Valida qui i tuoi numeri di telefono</h2>
		<h3>Puoi validare un numero in maniera puntuale, inserendolo manualmente qui sotto,
			oppure caricare un tuo file con la lista dei numeri (solo .csv/.xlsx) e validarli massivamente.
		</h3> 
	</p>
	<hr/>
	<form id="singleValidation" th:action="@{/checknumber}">
		<p>
		<h4>Validazione manuale</h4>
			<label>Inserisci qui un numero da validare:</label>
			<input type="number" 
				id="phoneNumber" 
				th:name="number" 
				maxlength="11"
				oninput="javascript: if (this.value.length > this.maxLength) this.value = this.value.slice(0, this.maxLength);"
				class="input-text">
			
			<button type="submit" class="blue">Valida</button>
			<button type="reset" class="red">Reset</button>
		</p>
	</form>
	
	<hr/>
	<form target="hiddenFrame" id="formUpload" th:action="@{/uploadExcelFile}" enctype="multipart/form-data" method="post">
		<p>
		<h4>Validazione massiva</h4>
			<label>Carica il file:</label>
			<input type="file" id="file" name="file"
				accept=".csv, application/vnd.openxmlformats-officedocument.spreadsheetml.sheet, application/vnd.ms-excel"><br><br>
		</p>
		<button type="submit" id="sendFile" class="blue">Valida</button>
		<button type="reset" id="resetFile" class="red">Reset</button>
	</form>
	
	<hr/>
		<div id="successGenerationFile">
			<p>
				<h3>Ottimo, il file e' stato correttamente validato! Ricorda che:</h3>
				<ul>
					<li><h4>Puoi visionare i file al path: <i>'src/main/resources/generated-result'</i></h4></li>
					<li><h4>Dove troverai due file .xlsx.</h4></li>
					<ul>
						<li><h4>Il file <i>FileCorrectNumbers.xlsx</i> conterra' i numeri in formato giusto e i numeri corretti.</h4></li>
						<li><h4>Il file <i>FileWrongNumbers.xlsx</i> conterra' i numeri scartati in quanto non corretti.</h4></li>
					</ul>
				</ul>
			</p>

		</div>
	</body>
</html>