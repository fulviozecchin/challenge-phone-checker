<!DOCTYPE html>
<html lang="it" xmlns:th="https://www.thymeleaf.org">
	<head>
		<title>Phone Checker App</title>
		<script src="http://ajax.googleapis.com/ajax/libs/jquery/1.7.1/jquery.min.js" type="text/javascript"></script>
		<script th:src="@{/js/index.js}"></script>
		<style>
		  .hide { position:absolute; top:-1px; left:-1px; width:1px; height:1px; }
		</style>
	</head>
	
	<body>
	<iframe id="iframe" name="hiddenFrame" class="hide"></iframe>
	<p>
		<h2>Benvenuto! Valida qui i tuoi numeri di telefono</h2>
		<h3>Puoi validare un numero in maniera puntuale, inserendolo manualmente qui sotto,
			oppure caricare un tuo file con la lista dei numeri (solo .csv/.xlsx) e validarli massivamente.
		</h3> 
	</p>
	<hr/>
	<form th:action="@{/api/checknumber}">
		<p>
		<h4>Validazione manuale</h4>
			<label>Inserisci qui un numero da validare:</label>
			<input type="number" 
				id="phoneNumber" 
				th:name="number" 
				maxlength="11"
				oninput="javascript: if (this.value.length > this.maxLength) this.value = this.value.slice(0, this.maxLength);">
			<input type="submit" id="validate" value="Valida">
		</p>
	</form>
	
	
	<hr/>
	<form target="hiddenFrame" id="formUpload" th:action="@{/uploadExcelFile}" enctype="multipart/form-data" method="post">
		<p>
		<h4>Validazione massiva</h4>
			<label>Carica il file:</label>
			<input type="file" id="file" name="file"
				accept=".csv, application/vnd.openxmlformats-officedocument.spreadsheetml.sheet, application/vnd.ms-excel"><br><br>
			<input type="button" id="removeFile" value="Rimuovi">
		</p>
		<input type="submit" id="sendFile" value="Valida">
	</form>
	
	<hr/>
		<div id="successGenerationFile">
			<p>
				<h3>Ottimo, il file e' stato correttamente validato!</h3>
				<h4>Puoi visionare i file al path: <i>'src/main/resources/generated-result'</i>.
					Qui troverai due file .xlsx.
					Il file FileCorrectNumbers.xlsx conterra' i numeri in formato giusto e corretti.
					Il file FileWrongNumbers.xlsx conterra' i numeri scartati in quanto non corretti.
				</h4>
			</p>

		</div>
	</body>
</html>